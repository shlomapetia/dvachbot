# ukrainian_mode.py
import random

# Расширенный словарь замен с военным и политическим сленгом
UKRAINIAN_WORD_REPLACEMENTS = {
    # Основные слова
    "спасибо": "дякую", "пожалуйста": "будь ласка", "привет": "привiт", "отлично": "дуже гарно",
    "пока": "бувай", "хорошо": "гарно", "плохо": "ковiдно", "человек": "людина",
    "мужчина": "чоловик", "женщина": "жiнка", "ребенок": "дитина", "деньги": "гривнi",
    "работа": "робота", "дом": "хата", "город": "мiсто", "страна": "країна", "сми": "унiан",
    "язык": "мова", "друг": "побратим", "враг": "ворог", "правда": "правда",
    "ложь": "брехня", "большой": "великий", "маленький": "маленький", "новый": "новий",
    "старый": "старий", "время": "час", "день": "день", "ночь": "нiч", "утро": "ранок",
    "вечер": "вечiр", "неделя": "тиждень", "месяц": "мiсяць", "год": "рiк", "час": "рок", "часа": "рокi", "часов": "рокiв",
    "сегодня": "сьогоднi", "завтра": "завтра", "вчера": "вчора", "здесь": "тут", "минута": "хвiлина", "минут": "хвiлин",
    "там": "там", "холодно": "холодно", "тепло": "тепло", "хлеб": "хлiб", "снова":"знову",
    "баба": "жiнка", "парень": "хлопець", "мужик": "козакь", "мужчина": "козакь", "девушка": "жiнка", "кот": "кiт", "гарфилд": "РУСНЯВИЙ ПОРОСЬ", 
    "двач": "кропiвачь", "моча": "гетьман", "мод": "гетьман", "админ": "Батько наш Бiндера", "немного": "трошкi", "чуть": "трошкi", 
    "тцк": "вбiвають москалiв", "хохол": "госпiдарь москалiв", "хохлы": "Свiрхлюдiни", "адмен": "Батько наш Бiндера", "матвей": "Батько наш Бiндера", "матфей": "Батько наш Бiндера", 

    # Глаголы
    "хотеть": "хотiти", "мочь": "могти", "говорить": "говорити", "видеть": "бачити",
    "слышать": "чути", "знать": "знати", "думать": "думати", "жить": "жити",
    "умирать": "помирати", "любить": "кохати", "ненавидеть": "ненавидiти", 
    "есть": "їсти", "пить": "пити", "спать": "спати", "идти": "йти", "он": "вiн", "они": "вонi", 
    "бежать": "бiгти", "сидеть": "сидiти", "стоять": "стояти", "давать": "давати",
    "брать": "брати", "хочу": "хочу", "хотел": "хотiв", "хотят": "хочуть", "могу": "можу", 
    "мог": "мiг", "могут": "можуть", "говори": "говорi", "скажи": "кажi",
    "сказал": "казав", "вижу": "бачу", "видел": "бачiв", "слышу": "чую",
    "слышал": "чув", "знаю": "пам'ятаю", "знал": "знав", "думаю": "вважаю",
    "думал": "думав", "живу": "живе", "жил": "жив", "умираю": "помiраю",
    "умер": "помер", "люблю": "кохаю", "любил": "кохав", "ненавижу": "ненавиджу",
    "ненавидел": "ненавидiв", "ем": "їм", "ел": "їв", "пью": "п'ю", "пил": "пив",
    "сплю": "сплю", "спал": "спав", "иду": "йду", "шел": "йшов", "бегу": "бiжу",
    "бежал": "бiг", "сижу": "сиджу", "сидел": "сидiв", "стою": "стою", "стоял": "стояв",
    "дай": "дай", "дал": "дав", "беру": "беру", "взял": "взяв",

    # Военный сленг и политика
    "русский": "русня", "россия": "ерэфия", "рашка": "хуйлостан", 
    "взрыв": "вибух", "победа": "перемога", "солдат": "оккупант", 
    "армия": "оркi", "путин": "хуiло", "зеленский": "зеля", 
    "украина": "ненька", "донбасс": "донбас", "крым": "крім", 
    "военный": "окупант", "спецоперация": "агресiя", "фронт": "фронт",
    "тыл": "тiл", "боец": "нацик", "герой": "героi", "орден": "ордiн",
    "медаль": "мiдаль", "сво": "агресiя", "нато": "нато", "запад": "захiд",
    "сша": "сша", "европа": "європа", "санкции": "санкцiї", "арест": "арешт",
    "площадь": "майдан", "президент": "пiдар", "правительство": "уряд",
    "минобороны": "мiноборони", "кремль": "кацапi", "рф": "ерэфия",

    # Матерные слова
    "гавно": "лайно", "говно": "гiвно", "дерьмо": "лайно", "пизда": "пiхва", "пиздец": "пiхвець", "ебаться": "гратiся",
    "ебать": "єбатi", "ебанутый": "ляснутiй", "отъебись": "видьєбiсь", "путин": "хуiлуша",
    "северный": "пiвничнiй", "пиздабол": "брехун", "жопа": "дупа", "попа": "дупа",
}

def ukrainian_transform(text: str) -> str:
    """Преобразует русский текст в украинский вариант"""
    if not text:
        return text

    # Разделяем текст на строки
    lines = text.split('\n')
    transformed_lines = []

    for line in lines:
        words = line.split()
        transformed_words = []

        for word in words:
            # Сохраняем пунктуацию в конце слова
            punctuation = ""
            if word and word[-1] in ',.!?;:':
                punctuation = word[-1]
                word = word[:-1]

            # Проверяем регистр
            is_upper = word.isupper()
            is_title = word.istitle()

            # Ищем замену в словаре (в нижнем регистре)
            base_word = word.lower()
            if base_word in UKRAINIAN_WORD_REPLACEMENTS:
                new_word = UKRAINIAN_WORD_REPLACEMENTS[base_word]
                if is_upper:
                    new_word = new_word.upper()
                elif is_title:
                    new_word = new_word.capitalize()
            else:
                # Заменяем буквы в оставшихся словах
                new_word = word
                # Замена 'и' с вероятностями
                if 'и' in new_word.lower():
                    rand = random.random()
                    if rand < 0.45:
                        new_word = new_word.replace('и', 'ї').replace('И', 'Ї')
                    elif rand < 0.9:
                        new_word = new_word.replace('и', 'i').replace('И', 'I')
                new_word = new_word.replace('ы', 'i').replace('Ы', 'I')
                new_word = new_word.replace('е', 'є').replace('Е', 'Є')
                new_word = new_word.replace('э', 'є').replace('Э', 'Є')
                new_word = new_word.replace('г', 'ґ').replace('Г', 'Ґ')
                new_word = new_word.replace('тся', 'ться')

            
            transformed_words.append(new_word + punctuation)

        transformed_lines.append(' '.join(transformed_words))

    return '\n'.join(transformed_lines)

# Для /slavaukraine
UKRAINIAN_PHRASES = [
    "СЛАВА УКРАЇНІ! ГЕРОЯМ СЛАВА!",
    "ПУТIН ХУЙЛО!",
    "РОССIЯНСКИЙ ВОЕННIЙ КОРАБЛЬ, IДI НАХУЙ!",
    "УКРАIНА ПЕРЕМОЖIТЬ!", 
    "КРIМ ЦЕ УКРАIНА!",
    "ДОНБАСС НАШ! СЛАВА УКРАIНЕ!",
    "СМЕРТЬ РАШИНСКIМ ОККУПАНТАМ!",
    "БАНДЕРОВЦI ГЕРОI!",
    "СВОБОДА НАРОДУ!",
    "МОСКАЛЯКУ НА ГIЛЯКУ!",
    "УКРАIНА НЕ СДАСТСЯ!",
    "ЗА ПОБЕДУ! ЗА УКРАIНУ!",
    "ПУТIНСКИЕ ОРКI В АДУ!",
    "ТЕРРОРИСТIЧHA РФ ДОЛЖНА ПАСТЬ!",
    "БОЙКОТ РУСКОМУ ГАЗУ!",
    "ХАЙ ЖIВЕ ЗЕЛЕНЫЙ КЛIН!",
    "УКРАIНА ЕВРОПЕЙСКАЯ ДЕРЖАВА!",
    "НЕТ ВОЙНЕ!",
    "ЕБАТI РУСНЮ!",
    "СЛАВА НАЦII! СМЕРТЬ ВOРOГАМ!",
    "УКРАIНА ЦЕ ЕВРОПА!",
    "БЕЛЫЙ ГРОМ ПРIЙДЕ!",
    "БАНДЕРА - ГЕРОЙ!",
    "МОСКОВIЯ - ТЮРЬМА НАРОДОВ!",
    "БУКОВЕЛЬ ЛУЧШIЙ КУРОРТ!",
    "УКРАИНЬСКИЙ ДУХ НЕ СЛОМIТЬ!",
    "ПАТРIОТI ПОБЕДЯТ!",
    "ЗСУ ЗНИЩАЕТ МОСКАЛIВ!",
    "РОСIЯ БУДЕТ УНИЧТОЖЕНА!",
    "СЛАВА ЗСУ! СЛАВА АЗОВУ!",
    "УКРАИНА - ЛУЧШАЯ СТРАНА!",
    "СЛАВА УКРАIНЕ!",
    "НАТО ПЕРЕМОЖIТЬ!",
    "УКРАИНА - НАША РОДИНА!",
    "Разрушимо РАШКУ!"
]
